---
- name: Provision the DigitalOcean Server
# =======================================
  hosts: localhost
  connection: local
  gather_facts: yes

  vars:
    regions:
      "1": 2
      "2": 5
      "3": 7
      "4": 1
      "5": 4
      "6": 3
      "7": 6

  vars_prompt:
    - name: "do_region"
      prompt: >
        What region should the server be located in?
          1. Amsterdam        (Datacenter 1)
          2. Amsterdam        (Datacenter 2)
          3. London
          4. New York         (Datacenter 1)
          5. New York         (Datacenter 2)
          6. San Francisco
          7. Singapore
        Please choose the number of your region. Press enter for default (#2) region.
      default: "2"
      private: no

    - name: "do_server_name"
      prompt: "\nWhat should the server be named? Press enter for default (streisand).\n"
      default: "streisand"
      private: no

    - name: "do_client_id"
      prompt: "\n\nThe following information can be found on your DigitalOcean control panel.\nhttps://cloud.digitalocean.com/api_access\n\nWhat is your DigitalOcean Client ID?\n"
      private: no

    - name: "do_api_key"
      prompt: "\nWhat is your DigitalOcean API key?\n"
      private: no

    - name: "confirmation"
      prompt: "\nStreisand will now set up your server. This process usually takes around ten minutes. Press Enter to begin setup...\n"

  roles:
    - genesis-digitalocean

- include: streisand.yml
